(()=>{"use strict";const t=document.querySelector("#todo-form"),e=document.getElementById("new-todo-input"),n=document.querySelector("#list");let o=[];null==t||t.addEventListener("submit",(t=>{if(t.preventDefault(),!(null==e?void 0:e.value))return;const n={id:a(),title:e.value,completed:!1};o.push(n),d(o),e.value="",c(),l(),r()}));const d=t=>{n&&(n.innerHTML=""),console.log("todos : ",t),t.forEach((t=>{const e=document.createElement("li");e.setAttribute("data-id",t.id);const o=document.createElement("label");o.textContent=t.title;const d=document.createElement("input");d.type="checkbox",d.checked=t.completed;const c=document.createElement("button");c.classList.add("delete-button"),c.textContent="Delete";const l=document.createElement("button");l.classList.add("modify-button"),l.textContent="Modify",e.append(o,d,c,l),null==n||n.appendChild(e)}))},c=()=>{const t=document.getElementsByClassName("delete-button");t&&Array.from(t).forEach((t=>{t.addEventListener("click",(t=>{const e=t.target.parentNode,n=e.getAttribute("data-id");o.splice(o.findIndex((t=>t.id===n)),1),e.remove()}))}))},l=()=>{const t=document.getElementsByClassName("modify-button");t&&Array.from(t).forEach((t=>{t.addEventListener("click",(t=>{const n=t.target.parentNode,d=n.getAttribute("data-id"),c=o.filter((t=>t.id===d));e&&(e.value=c[0].title,null==e||e.focus(),n.remove(),o=o.filter((t=>t.id!==d)))}))}))},r=()=>{document.querySelectorAll("input[type=checkbox]").forEach((t=>{t.addEventListener("change",(t=>{const e=t.target.parentNode.getAttribute("data-id"),n=o.find((t=>t.id===e));n&&(n.completed=!n.completed)}))}))},a=()=>{const t=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return t()+"-"+t()}})();