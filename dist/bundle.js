(()=>{"use strict";const t=document.querySelector("#todo-form"),e=document.getElementById("new-todo-input"),n=document.querySelector("#list");let d=[],o=[];null==t||t.addEventListener("submit",(t=>{if(t.preventDefault(),!(null==e?void 0:e.value))return;const n={id:i(),title:e.value,completed:!1},l=c(n);d.push(n),o.push({id:n.id,element:l}),e.value=""}));const c=t=>{const e=document.createElement("li");e.setAttribute("data-id",t.id);const c=document.createElement("label");c.textContent=t.title;const i=document.createElement("input");i.type="checkbox",i.checked=t.completed,i.addEventListener("change",(()=>{const t=i.parentNode.getAttribute("data-id"),e=d.find((e=>e.id===t));e&&(e.completed=!e.completed)}));const l=document.createElement("button");l.classList.add("delete-button"),l.textContent="Delete",l.addEventListener("click",(t=>{const e=t.target.parentNode,n=e.getAttribute("data-id");e.remove(),d.splice(d.findIndex((t=>t.id===n)),1),o.splice(o.findIndex((t=>t.id===n)),1)}));const u=document.createElement("button");return u.classList.add("modify-button"),u.textContent="Modify",u.addEventListener("click",(()=>{const t=u.parentNode,e=t.getAttribute("data-id"),n=document.createElement("input");n.setAttribute("type","text");const o=document.createElement("button");o.textContent="Done",t.append(n,o),n.focus(),o.addEventListener("click",(()=>{c.textContent=n.value,n.remove(),o.remove();const t=d.filter((t=>t.id===e));t&&(t[0].title=n.value)}))})),e.append(c,i,l,u),null==n||n.appendChild(e),e},i=()=>{const t=()=>Math.floor(65536*(1+Math.random())).toString(16).substring(1);return t()+"-"+t()}})();